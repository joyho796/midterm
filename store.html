<!DOCTYPE html>

<head>
    <title>LEND A PAW | Store</title>
    <link href="style.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

    <div id="header">
        <ul>
            <li style="float: left">
                <a href="index.html" style="padding-top:20px; padding-right: 0px">
                    <img src="images/logo.png" alt="logo" style="width: 100px; height: 32px">
                </a>
            </li>
            <li style="float: left;">
                <a href="index.html" style="font-size:36px; padding-top: 8px; font-weight: bold;text-shadow: 1.5px 1.5px rgba(178,219,203,1);">Lend A Paw
                </a>
            </li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="events.html">Events</a></li>
            <li><a href="store.html" class="active">Store</a></li>
            <li><a href="help.html">Help Us</a></li>
        </ul>

        <h1>Store</h1>

    </div>

    <div>
        <br><br><br>
        <h2>Bring home a treat</h2>
        <br>
        <p>100% of the profits from our store go towards helping the lives of animals in need. <br><br>
        Due to the pandemic, we encourage you to make orders through our online store.</p>
        <br><br>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous">
    </script>
    <script type="text/javascript">
        function DonateItem(name, cost)
        {
            this.name = name;
            this.cost=cost;
        }

        donate_items = new Array(
            new DonateItem("Meal(s)", 7),
            new DonateItem("Toy(s)", 5),
            new DonateItem("Care", 11),
            new DonateItem("Merch", 15),
        );
    </script>
    <div>
        <h2><input type="number" name="quantity" min="1" max="10" value="0">&nbspFood($7/meal)</h2>
        <h2><input type="number" name="quantity" min="1" max="10" value="0">&nbspToys($5/toy)</h2>
        <h2><input type="number" name="quantity" min="1" max="10" value="0">&nbspCare($11/animal)</h2>
        <h2><input type="number" name="quantity" min="1" max="10" value="0">&nbspMerch($15)</h2>
    </div>

    <div>
        <h2>Submit an order</h2>
        <br>
        <p id="summary">[Order summary]</p>
        <br>
        <form>
            <p>Name*: <input type="text"  name="name"></p><br>
            <p>Phone: <input type="text"  name="phone"></p><br>
            <p>Email*: <input type="text"  name="email"></p><br>
        <input type="submit" id="button" value="Submit Order">
        <br><br>
        <p id="subtotal">Sub-total: $0</p>
        <p id="tax">Tax(6.25%): $0</p>
        <p id="total">Total: $0</p>
        <br><br>
        </form>
    </div>

    <script type="text/javascript">
        window.onload = function() {
            for (i = 0; i < donate_items.length; i++)
                document.getElementsByName("quantity")[i].onchange=function(){updateAllTotals()};

            function updateAllTotals()
            {
                updateSummary();
                var subtotal, totalAT, totalBT, tax;
                subtotal = totalAT = totalBT = tax = 0; 

                for (i = 0; i < donate_items.length; i++)
                {
                    costBT = donate_items[i].cost;
                    quant = parseInt(document.getElementsByName("quantity")[i].value)
                    subtotal = costBT * quant;
                    totalBT += subtotal;
                }
                tax = totalBT * 0.0625;
                totalAT = totalBT + tax;

                // Update totals for entire order
                $("#subtotal").html("Sub-total: $" + totalBT.toFixed(2))
                $("#tax").html("Tax(6.25%): $" + tax.toFixed(2))
                $("#total").html("Total: $" + totalAT.toFixed(2))
            }

            function updateSummary()
            {
                summaryString = "<p>Order Summary:</p>";
                for (i = 0; i < donate_items.length; i++)
                {
                    quant = parseInt(document.getElementsByName("quantity")[i].value);
                    if(quant != 0){
                        number = donate_items[i].cost * quant;
                        temp = "<p>"+ quant + " " +donate_items[i].name+" = $"+number+"</p>"
                        summaryString += temp;
                    }
                }
                $("#summary").html(summaryString)
            }

            $("form").submit(function(event) {
                submitAccept = quantCheck = NameCheck = true;
                for (i = 0; i < donate_items.length; i++)
                {
                    quant = parseInt(document.getElementsByName("quantity")[i].value);
                    if(quant != 0){
                        number = donate_items[i].cost * quant;
                        temp = "<p>"+ quant + " " +donate_items[i].name+" = $"+number+"</p>"
                        summaryString += temp;
                    }
                }
                

                event.preventDefault();
});
        };

    </script>

    <div id="footer">
        <br><br>
        <div id="flex">
            <p>
            <a href="about.html">ABOUT</a>&nbsp|&nbsp
            <a href="contact.html">CONTACT</a>&nbsp|&nbsp
            <a href="help.html">DONATE</a>
            </p>
        </div>
        <br><br>
        <p style="font-size: 14px">&copy 2021 Lend A Paw and Team Too</p>
        <br><br>
    </div>

</body>

</html>